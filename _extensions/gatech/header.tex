% header.tex for GA Tech Template

% Load required packages
\usepackage{ifthen}
\usepackage{fancyhdr}    % For header/footer customization
\usepackage{xcolor}       % For colors
\usepackage{graphicx}     % For logo images
\usepackage{geometry}     % For page geometry
\usepackage{eso-pic}      % For adding elements at specific positions
\usepackage{sectsty}      % For section color and font style
\usepackage{fontspec}     % For custom fonts
\usepackage{titlesec}     % For title formatting
\usepackage{tocloft}  % Load tocloft for TOC customization
\usepackage{lastpage} % For total page count
\usepackage{mdframed}    % Simpler shading support
\usepackage{fvextra}    % Enhanced verbatim with wrapping
\usepackage{enumitem} % Required for customizing list environments

%----------%
% FONTS 
%----------%
% Set font to a popular tech industry font (IBM Plex Sans)
\setmainfont{fonts}[
  Path = _extensions/gatech/fonts/,
  UprightFont = IBMPlexSans-Light.ttf,
  BoldFont = IBMPlexSans-Medium.ttf,
  ItalicFont = IBMPlexSans-LightItalic.ttf
]

\setsansfont{fonts}[
  Path = _extensions/gatech/fonts/,
  UprightFont = IBMPlexSans-Light.ttf,
  BoldFont = IBMPlexSans-Medium.ttf,
  ItalicFont = IBMPlexSans-LightItalic.ttf
]

%----------%
% COLORS %
%----------%
% Define GA Tech colors
\definecolor{gatechblue}{HTML}{003057}
\definecolor{gatechgold}{HTML}{B3A369}
\definecolor{gatechblue_light}{HTML}{335378}
\definecolor{gatechgold_light}{HTML}{BFB37C}
\definecolor{gatechgoal_ultralight}{HTML}{EBE8D7}
\definecolor{gatechgold_dark}{HTML}{857437} % Darker version for nested subsections
\definecolor{gatechbuzzyellow}{HTML}{FFCC00}


%----------%
% PAGE FORMATING %
%----------%
\geometry{letterpaper, top=25.4mm, bottom=25.4mm, left=25.4mm, right=32mm}

% Add a right-hand side colored border with GA Tech logo
\AddToShipoutPicture{%
    \AtPageLowerLeft{%
        \put(\LenToUnit{\dimexpr\paperwidth-25.4mm},0){% 
            \color{gatechgold}\rule{25.4mm}{\LenToUnit\paperheight}%
        }%
    }%
    % Position logo within the right margin at the top
    \AtPageLowerLeft{%
        \put(\LenToUnit{\dimexpr\paperwidth-21mm},26cm){%
            \includegraphics[width=16mm]{_extensions/gatech/GTVertical_Navy.png}%
        }%
    }%
}

% Page number
\fancypagestyle{pagenum}{
  \fancyhf{}
  \renewcommand\headrulewidth{0pt}
  \fancyfoot[R]{\thepage/\pageref{LastPage}} % Format: current page / total pages
  \fancyfootoffset{2.25cm}
}
\setlength{\footskip}{20pt}

% Set the default page style
\pagestyle{pagenum}

%----------%
% TOC %
%----------%
% Customize TOC appearance
\renewcommand{\cftsecfont}{\color{gatechblue}\bfseries}        % Section titles in GA Tech blue
\renewcommand{\cftsubsecfont}{\color{gatechblue_light}}   
\renewcommand{\cftsubsubsecfont}{\color{gatechgold_dark}}               
\renewcommand{\cftsecpagefont}{\color{gatechblue}}         % Subsection titles in GA Tech gold
\renewcommand{\cftsubsecpagefont}{\color{gatechblue_light}}           % Subsection page numbers in GA Tech gold
\renewcommand{\cftsubsubsecpagefont}{\color{gatechgold_dark}}  

% Adjust spacing in the table of contents
%\setlength{\cftbeforesecskip}{8pt}       % Space before each section in TOC
%\setlength{\cftbeforesubsecskip}{4pt}    % Space before each subsection in TOC
%\setlength{\cftsecnumwidth}{2em}         % Width for section numbers
%\setlength{\cftsubsecnumwidth}{3em}      % Width for subsection numbers

%----------%
% Header Colors and Font %
%----------%
% Customize title alignment (left-aligned, uppercase, with subtitle option)
\makeatletter
\renewcommand{\maketitle}{\bgroup\setlength{\parindent}{0pt}
\begin{flushleft}
  {\sffamily\huge\textbf{\MakeUppercase{\@title}}} \vspace{0.3cm} \newline
  {\Large {\@subtitle}} \newline
  \@author
\end{flushleft}\egroup
}
\makeatother

% Customize section and subsection colors and styles
\sectionfont{\color{gatechblue}\fontsize{16}{16.8}\selectfont}
\subsectionfont{\color{gatechblue_light}\fontsize{14}{16.8}\selectfont}
\subsubsectionfont{\color{gatechgold_dark}\fontsize{12}{16.8}\selectfont}
%\titleformat{\subsection}
%  {\sffamily\Large\bfseries}{\thesection}{1em}{}[{\titlerule[0.8pt]}]

%----------%
% CODE BLOCK GLOBAL STYLING %
%----------%
% Configure verbatim environment (plain code blocks)
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{breaklines,commandchars=\\\{\}}

% Configure shaded environment (Quarto's syntax-highlighted code blocks)
\newenvironment{outputshaded}
  {\begin{mdframed}[backgroundcolor=outputshade, linewidth=0.5pt, roundcorner=5pt]}
  {\end{mdframed}}

% Set smaller font sizes for both environments
\AtBeginEnvironment{verbatim}{\fontsize{9}{10}\selectfont} % Verbatim (plain code blocks)
\AtBeginEnvironment{Shaded}{\fontsize{9}{10}\selectfont}   % Shaded (Quarto's highlighted code blocks)

%----------%
% GLOBAL LIST TIGHTENING %
%----------%

% Tighten itemize environment
\setlist[itemize]{noitemsep, topsep=0pt} % No space between items or at the top

% Tighten enumerate environment
\setlist[enumerate]{noitemsep, topsep=0pt}

% Tighten description environment
\setlist[description]{noitemsep, topsep=0pt}




